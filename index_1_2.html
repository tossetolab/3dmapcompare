<html lang=ja>

<head>
  <meta charset="UTF-8">
  <title>静岡県沼津市 建築物モデル（3D Tiles）</title>
  <script src="https://cesium.com/downloads/cesiumjs/releases/1.99/Build/Cesium/Cesium.js"></script>
  <link href="https://cesium.com/downloads/cesiumjs/releases/1.99/Build/Cesium/Widgets/widgets.css" rel="stylesheet">
  <style>
    #cesiumContainer {
      position: absolute;
      top: 0;
      left: 0;
      height: 100%;
      width: 100%;
      margin: 0;
      overflow: hidden;
      padding: 0;
      font-family: sans-serif;
    }

    html {
      height: 100%;
    }

    body {
      padding: 0;
      margin: 0;
      overflow: hidden;
      height: 100%;
    }
  </style>
</head>

<body>
  <div id="cesiumContainer"></div>
  <script>
    // Viewerの初期化
    var viewer = new Cesium.Viewer("cesiumContainer", {
      imageryProvider: new Cesium.UrlTemplateImageryProvider({
        url: "https://cyberjapandata.gsi.go.jp/xyz/std/{z}/{x}/{y}.png",
        credit: "地理院タイル",
        maximumLevel: 18
      }),
      baseLayerPicker: false // ベースレイヤー切り替え機能を無効化
    });

    // 建築物モデル（3D Tiles）
    var bldg_3dtiles = viewer.scene.primitives.add(new Cesium.Cesium3DTileset({
      url: 'https://public-data.geolonia.com/komazawa-u-3dmap/3dtiles_bldg_523856_2021/tileset.json' // 2次メッシュ
      // url: 'https://public-data.geolonia.com/komazawa-u-3dmap/3dtiles_bldg_52385628_2021/tileset.json' // 3次メッシュ
    }));

    // カメラの初期位置の指定
    viewer.camera.setView({
      // 3次メッシュの初期位置
      /*
      destination: Cesium.Cartesian3.fromDegrees(138.8565359127686, 35.091001223665174, 689),
      orientation: {
        heading: Cesium.Math.toRadians(0.0),
        pitch: Cesium.Math.toRadians(-28.0),
        roll: 0.0
      }
      */
      // 2次メッシュの初期位置
      destination: Cesium.Cartesian3.fromDegrees(138.8400301332497, 35.00186357178486, 6693),
      orientation: {
        heading: Cesium.Math.toRadians(0.0),
        pitch: Cesium.Math.toRadians(-31.0),
        roll: 0.0
      }
    });
  </script>
</body>

</html>